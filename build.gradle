buildscript {
    repositories {
        maven {
            url uri('./repo')
        }
    }
    dependencies {
        classpath 'org.breeze.work:gradle-plugins:1.0'
    }
}

plugins {
    id 'groovy'
    id 'java'
    id 'maven'
}

// 只能这样写
// 指定properties文件，该文件内部实现类指定插件名
apply plugin: 'generateCode'
apply plugin: 'apiDoc'
apply plugin: 'delete'
apply plugin: 'help'

generateCode {
//    host '192.168.88.23'
    port '3306'
    dataBase 'world'
    user 'root'
    password 'wangbin_123'
    entityPath 'entity'
    controllerPath 'controller'
    servicePath 'service'
    serviceImplPath 'service.impl'
    daoPath 'dao'
}

apiDoc {
    controllerPath 'controller'
}

group 'org.breeze.work'
version '1.0'

sourceCompatibility = 1.8

repositories {
    maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
    maven{ url 'http://maven.aliyun.com/nexus/content/repositories/jcenter'}
}

dependencies {
    compile gradleApi()
    compile localGroovy()
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile group: 'mysql', name: 'mysql-connector-java', version: '8.0.13'


}

uploadArchives {
    repositories {
        mavenDeployer {
            pom.groupId = 'org.breeze.work'
            pom.artifactId = 'gradle-plugins'
            pom.version = '1.0'
            repository(url: uri('./repo'))
        }
    }
}

// 指定编码
tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
}

tasks.javadoc() {
    options.encoding = "UTF-8"
}
